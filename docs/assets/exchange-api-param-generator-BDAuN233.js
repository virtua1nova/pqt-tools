import{r as v,a as I,c as g,b as i,d as E,e as x,w,f as H,v as O,t as y,o as _}from"./index-Co8vYWGw.js";const V={style:{"margin-bottom":"10px"}},A={style:{"margin-bottom":"5px"}},S={for:"params"},T={key:0},U={for:"amount"},X={style:{"word-break":"break-all","font-size":"13px","padding-left":"10px",color:"#855454","margin-top":"5px"}},K=["textContent"],c="cost",m="amount",P={__name:"exchange-api-param-generator",setup(N){const u=v(""),f=v(!1),a=v(""),n=I({}),r=v("");function h(){let o=u.value;if(!o){window.alert("请输入抓包参数");return}(o.startsWith("'")||o.startsWith('"'))&&(o=o.slice(1)),(o.endsWith("'")||o.endsWith('"'))&&(o=o.slice(0,-1));const t=o.split("&");t.sort();const e={};for(const l of t){const[s,d]=l.split("=");let p=decodeURIComponent(d);if(s===c){p=JSON.parse(p.replace(/\+/g,""));for(const b of p)b.unit=b.value/e[m]}e[s]=p}if(!e[m]&&!e[c]){window.alert("请输入正确的抓包参数");return}Object.assign(n,e),f.value=!0}function k(){let o=a.value;if(!o){window.alert("请输入兑换数量");return}if(!/\d+/.test(o)||+a.value<1){window.alert("请输入正确的兑换数量");return}let t="";for(const e in n)if(e===c){const l=[];for(const s of n[e]){const d={...s};d.value=s.unit*+a.value,delete d.unit,l.push(d)}t+=`${e}=${encodeURIComponent(JSON.stringify(l))}&`}else t+=`${e}=${n[e]}&`;r.value=t.slice(0,-1)}function C(){r.value&&(navigator.clipboard.writeText(r.value),window.alert("复制成功"))}return(o,t)=>(_(),g("div",null,[t[4]||(t[4]=i("p",{style:{"margin-bottom":"10px","font-size":"18px","font-weight":"500"}},"请求参数转换器",-1)),i("div",V,[i("div",A,[i("label",S,[t[2]||(t[2]=x(" 抓包参数： ",-1)),w(i("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),type:"text",placeholder:"请输入",style:{width:"240px","margin-right":"10px"},id:"params"},null,512),[[O,u.value]]),i("button",{onClick:h},"解析"),f.value?(_(),g("span",T," 成功, 当前兑换数量为: "+y(n[m]),1)):H("",!0)])]),i("div",null,[i("label",U,[t[3]||(t[3]=x(" 兑换数量： ",-1)),w(i("input",{type:"text",placeholder:"请输入",id:"amount",style:{"margin-right":"10px"},"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e)},null,512),[[O,a.value]]),i("button",{onClick:k,style:{"margin-right":"10px"}},"生成"),i("button",{onClick:C},"复制")]),i("div",X,[i("div",{textContent:y(r.value)},null,8,K)])])]),t[5]||(t[5]=E('<div>本工具需要提供原始的抓包数据，以下面的数据为例：</div><div style="font-size:13px;padding-left:10px;color:#855454;"><div>curl -X POST &#39;https://us.nkrpg.com/api/exchange/exchangeItem&#39; \\</div><div>-H &#39;Host: us.nkrpg.com&#39; \\</div><div>-H &#39;User-Agent: Mozilla/5.0...</div><div>-H &#39;Accept: */*&#39; \\</div><div>-H &#39;Content-Type: application/x-www-form-urlencoded&#39; \\</div><div>-H &#39;X-QOOKIA-DEVICE-TYPE: web&#39; \\</div><div>-H &#39;X-QOOKIA-DEVICE: 26bed0e5-e198-4a91-93f7-58a8597b4932&#39; \\</div><div>-H &#39;X-QOOKIA-SERVER-PREFIX: UVG&#39; \\</div><div>-H &#39;X-QOOKIA-USER: UVG0000009756&#39; \\</div><div> -H &#39;X-QOOKIA-DIGEST: 2ec453e2f13b0200b1cbd761dfc823b05dfd260d&#39; \\ </div><div>-H &#39;X-QOOKIA-PACK: 6a18fc16671e92d6a20655bd74ba1fd6c04bb4d1&#39; \\</div><div>...</div><div style="word-break:break-all;"><div> --data-raw &#39;amount=2&amp;setting_id=539&amp;cost=%5B...%5D&#39; </div></div></div><div> 其中，&quot;--data-raw&quot;一行就是本工具的目标数据，将其复制到输入框内即可(从amount开始，不要引号)。 </div>',3))]))}};export{P as default};
