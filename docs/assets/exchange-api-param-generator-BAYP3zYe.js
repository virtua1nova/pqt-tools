import{r as p,a as E,c as x,b as n,d as H,w as b,e as S,v as y,t as T,o as w}from"./index-Dss3FN6Y.js";const U={class:"container1"},V={style:{"margin-bottom":"5px"}},P={style:{"margin-bottom":"5px"}},R={style:{display:"flex","align-items":"flex-start"}},X={key:0},K={style:{display:"flex","align-items":"flex-start"}},z={style:{"word-break":"break-all","font-size":"13px",color:"#855454","margin-top":"5px"}},B=["innerHTML"],f="cost",u="amount",h="curl",D="PowerShell",$={__name:"exchange-api-param-generator",setup(N){const c=p(""),m=p(!1),g=p(""),a=E({type:"",part1:null,part2:null,part3:null}),s=p(""),v=p("");function k(e,t){const i="--data-raw",o=e.lastIndexOf(i)+i.length;t.type=h,t.part1=e.slice(0,o),t.part2=e.slice(o).trim().slice(1,-1)}function O(e,t){const i="-Body",o=e.lastIndexOf(i)+i.length;t.type=D,t.part1=e.slice(0,o),t.part2=e.slice(o).trim().slice(1,-1)}function I(){let e=c.value;if(!e){window.alert("请输入抓包参数");return}if(e.startsWith(h)?k(e,a):e.startsWith("Invoke-WebRequest")&&O(e,a),!a.part1||!a.part2)return window.alert("解析失败, 参数格式是否正确?");const t=a.part2.split("&");t.sort();const i={};for(const o of t){let[d,l]=o.split("=");if(d===f){l=decodeURIComponent(l),l=JSON.parse(l.replace(/\+/g,""));for(const r of l)r.unit=r.value/i[u]}i[d]=l}if(!i[u]&&!i[f]){window.alert("请输入正确的抓包参数");return}a.part3=i,m.value=!0,g.value=i[u]}function _(){let e=v.value;if(!e){window.alert("请输入兑换数量");return}if(e=e>>0,e<1){window.alert("请输入正确的兑换数量");return}let t="";const i={...a.part3};i[u]=e;for(const o in i)if(o===f){const d=[];for(const l of i[o]){const r={...l};r.value=l.unit*e,delete r.unit,d.push(r)}t+=`${o}=${encodeURIComponent(JSON.stringify(d))}&`}else t+=`${o}=${i[o]}&`;s.value=`${a.part1} '${t.slice(0,-1)}'`}function A(){s.value&&(navigator.clipboard.writeText(s.value),window.alert("复制成功"))}function C(){s.value&&(s.value="")}return(e,t)=>(w(),x("div",U,[t[4]||(t[4]=n("p",{style:{"margin-bottom":"10px","font-size":"18px","font-weight":"500"}},"兑换参数转换器",-1)),t[5]||(t[5]=n("div",{style:{"margin-bottom":"5px",color:"rgb(133, 84, 84)","font-size":"14px"}},"基本使用方法: 解析 -> 生成 -> 复制 -> 粘贴[到终端] -> 执行",-1)),n("div",V,[n("div",P,[t[2]||(t[2]=n("label",{for:"command",style:{display:"inline-block","margin-bottom":"5px"}}," 抓包参数: ",-1)),n("div",R,[b(n("textarea",{"onUpdate:modelValue":t[0]||(t[0]=i=>c.value=i),placeholder:"请输入",id:"command",style:{width:"360px","margin-right":"10px"},rows:"4"},null,512),[[y,c.value]]),n("button",{onClick:I,style:{"margin-right":"10px"}},"解析"),m.value?(w(),x("span",X," 成功, 当前兑换数量为: "+T(g.value),1)):S("",!0)])]),n("div",null,[t[3]||(t[3]=n("label",{for:"newAmount",style:{display:"inline-block","margin-bottom":"5px"}}," 兑换数量: ",-1)),n("div",K,[b(n("input",{type:"text",placeholder:"请输入",id:"newAmount",style:{"margin-right":"10px",height:"24px"},"onUpdate:modelValue":t[1]||(t[1]=i=>v.value=i)},null,512),[[y,v.value,void 0,{number:!0}]]),n("button",{onClick:_,style:{"margin-right":"10px"}},"生成"),n("button",{onClick:A,style:{"margin-right":"10px"}},"复制"),n("button",{onClick:C},"清除")])]),n("div",z,[n("div",{innerHTML:s.value},null,8,B)])]),t[6]||(t[6]=H('<div>本工具需要提供原始的抓包数据，以下面的数据为例：</div><div style="font-size:13px;padding-left:10px;color:#855454;"><div>curl -X POST &#39;https://us.nkrpg.com/api/exchange/exchangeItem&#39; \\</div><div>-H &#39;Host: us.nkrpg.com&#39; \\</div><div>-H &#39;User-Agent: Mozilla/5.0...</div><div>-H &#39;Accept: */*&#39; \\</div><div>-H &#39;Content-Type: application/x-www-form-urlencoded&#39; \\</div><div>-H &#39;X-QOOKIA-DEVICE-TYPE: web&#39; \\</div><div>-H &#39;X-QOOKIA-DEVICE: 26bed0e5-e198-4a91-93f7-58a8597b4932&#39; \\</div><div>-H &#39;X-QOOKIA-SERVER-PREFIX: UVG&#39; \\</div><div>-H &#39;X-QOOKIA-USER: UVG0000009756&#39; \\</div><div> -H &#39;X-QOOKIA-DIGEST: 2ec453e2f13b0200b1cbd761dfc823b05dfd260d&#39; \\ </div><div>-H &#39;X-QOOKIA-PACK: 6a18fc16671e92d6a20655bd74ba1fd6c04bb4d1&#39; \\</div><div>...</div><div>--data-raw &#39;amount=2&amp;setting_id=539&amp;cost=%5B...%5D&#39;</div></div><span>将其复制到输入框内即可。</span><div style="font-size:13px;">若是PowerShell, 一般为: Invoke-WebRequest -UseBasicParsing -Uri &quot;https://us.nkrpg.com...</div>',4))]))}};export{$ as default};
